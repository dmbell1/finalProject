{"changed":false,"filter":false,"title":"auth_server.js","tooltip":"/auth_server.js","value":"/*var express = require('express');\nvar bodyParser = require('body-parser');\nvar cookieParser = require('cookie-parser');\nvar expressSession = require('express-session');\nvar mongoStore = require('connect-mongo')({session: expressSession});\nvar mongoose = require('mongoose');\nrequire('./models/users_model.js');\nvar conn = mongoose.connect('mongodb://localhost/m');\nvar app = express();\napp.engine('.html', require('ejs').__express);\napp.set('views', __dirname + '/views');\napp.set('view engine', 'html');\napp.use(bodyParser());\napp.use(cookieParser());\napp.use(expressSession({\n  secret: 'SECRET',\n  cookie: {maxAge: 60*60*1000},\n  store: new mongoStore({\n      db: mongoose.connection.db,\n      collection: 'sessions'\n    })\n  }));\nrequire('./routes')(app);\n//app.listen(80);\napp.listen(process.env.PORT, process.env.IP);\n*/\nvar express = require('express');\nvar bodyParser = require('body-parser');\nvar cookieParser = require('cookie-parser');\nvar expressSession = require('express-session');\nvar mongoStore = require('connect-mongo')({session: expressSession});\nvar mongoose = require('mongoose');\nrequire('./models/users_model.js');\n\nvar connString = \"mongodb://\" + process.env.IP + \":27017/\";\n\nconsole.log(connString + 'myapp');\n\nvar conn = mongoose.connect(connString + 'myapp');\nvar app = express();\napp.engine('.html', require('ejs').__express);\napp.set('views', __dirname + '/views');\napp.set('view engine', 'html');\napp.use(bodyParser.urlencoded({ extended: true }));\napp.use(bodyParser.json());\napp.use(cookieParser());\napp.use(expressSession({\n  secret: 'SECRET',\n  cookie: {maxAge: 60*60*1000},\n  store: new mongoStore({\n      db: mongoose.connection.db,\n      collection: 'sessions'\n    })\n  }));\nrequire('./routes')(app);\n//app.listen(80);\n//don't forget, we need to use the C9 variables\napp.listen(process.env.PORT, process.env.IP);","undoManager":{"mark":0,"position":-1,"stack":[]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":0,"column":0},"end":{"row":0,"column":0},"isBackwards":true},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1416254052000}